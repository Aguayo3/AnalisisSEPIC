Version 4
SHEET 1 880 1048
WIRE -448 -80 -512 -80
WIRE -368 -80 -448 -80
WIRE -192 -80 -288 -80
WIRE -144 -80 -192 -80
WIRE 80 -80 -80 -80
WIRE 128 -80 80 -80
WIRE 224 -80 192 -80
WIRE 416 -80 224 -80
WIRE 576 -80 416 -80
WIRE -448 -32 -448 -80
WIRE 416 -32 416 -80
WIRE 80 -16 80 -80
WIRE 224 -16 224 -80
WIRE -192 0 -192 -80
WIRE -240 16 -352 16
WIRE -448 160 -448 48
WIRE -352 160 -352 16
WIRE -352 160 -448 160
WIRE -192 160 -192 80
WIRE -192 160 -352 160
WIRE -48 160 -192 160
WIRE 80 160 80 64
WIRE 80 160 -48 160
WIRE 224 160 224 48
WIRE 224 160 80 160
WIRE 416 160 416 48
WIRE 416 160 224 160
WIRE -48 192 -48 160
WIRE 80 448 80 400
FLAG -48 192 0
FLAG -240 64 pwm
FLAG 576 -80 Vo
IOPIN 576 -80 Out
FLAG 80 448 0
FLAG 80 320 pwm
FLAG -512 -80 Vi
IOPIN -512 -80 In
SYMBOL cap -144 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL cap 208 -16 R0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL res 400 -48 R0
SYMATTR InstName R1
SYMATTR Value 200
SYMBOL voltage -448 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage 80 304 R0
WINDOW 3 -459 48 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 0 1n 1n {D*T} {T})
SYMATTR InstName V2
SYMBOL sw -192 -16 R0
SYMATTR InstName S1
SYMATTR Value MySW
SYMBOL ind -384 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 3m
SYMBOL ind 96 80 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 3m
SYMBOL diode 128 -64 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MyD
TEXT -760 0 Left 2 !.tran 2
TEXT -760 32 Left 2 !.param D=.33
TEXT -760 64 Left 2 !.param f=60e3
TEXT -760 96 Left 2 !.param T {1/f}
TEXT -1056 248 Left 2 !.model MyD D (Ron=.00001 Roff=1Meg Vfwd=0.001)
TEXT -1056 296 Left 2 !.model MySW SW (Ron=.01 Roff=1Meg Vt=.001)
TEXT -1024 872 Left 2 !.meas TRAN IL1max MAX I(L1) FROM 0.98 TO {0.98+T}
TEXT -1024 920 Left 2 !.meas tran IL1min MIN I(L1) FROM=0.98 TO={0.98+T}
TEXT -1024 960 Left 2 !.meas tran Iriple PARAM IL1max-IL1min
TEXT -120 584 Left 2 !.meas TRAN IL2max MAX I(L2) FROM 0.98 TO {0.98+T}
TEXT -120 632 Left 2 !.meas tran IL2min MIN I(L2) FROM=0.98 TO={0.98+T}
TEXT -1024 1000 Left 2 !.meas tran IL1 AVG I(L1) from=1 to=2
TEXT -1016 1032 Left 2 !.meas tran deltaIL1IL1 PARAM {Iriple/IL1}
TEXT -120 680 Left 2 !.meas tran deltaIL2IL2 PARAM {IripleL2/IL2}
TEXT -112 760 Left 2 !.meas tran IL2 AVG I(L2) from=1 to=2
TEXT -120 720 Left 2 !.meas tran IripleL2 PARAM IL2max-IL2min
